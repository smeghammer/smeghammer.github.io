<!DOCTYPE HTML>
<html lang="en">
    <head>
        <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
        <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/grids-responsive-min.css">
        <link rel="stylesheet" href="/css/site.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/gif" href="/images/favicon.gif">
        <title>
        Smeghammer's Doom
        </title>
    </head>
    <body class="home" data-page="snippet" data-ytvid="true" data-pagekey="0.1.10">
        <div class="pure-g">
            <div class="pure-u-1 pure-u-md-1-8 pure-u-lg-1-12"></div>
            <div class="pure-u-1 pure-u-md-3-4 pure-u-lg-5-6">
                <h1 class="centre"></h1>
            </div>
            <div class="pure-u-1 pure-u-md-1-8 pure-u-lg-1-12"></div>
        </div>
        
        <!-- top menu -->
        <div class="pure-g">
            <div class="pure-u-1 pure-u-md-1-8 pure-u-lg-2-24"></div>
            <div class="pure-u-1 pure-u-md-3-4 pure-u-lg-20-24 menubar">
                <div class="pure-menu pure-menu-horizontal centre" id="menubar" >
                    <!-- inject menu -->
                </div>                
                <div id="subnav">
                    <!-- inject subnav here -->
                </div>
            </div>
            <div class="pure-u-1 pure-u-md-1-8 pure-u-lg-2-24"></div>
        </div>

        <!-- contents -->
        <div class="pure-g contents">
            <div class="pure-u-1 pure-u-md-1-12 pure-u-lg-1-8"></div>
            <div class="pure-u-1 pure-u-md-5-6 pure-u-lg-3-4">
				<h2></h2>
				<p>A first attempt at creating a gigantic nail.</p>
				<iframe width="560" height="315" src="https://www.youtube.com/embed/01Emk3wwSg8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
               <h3>Code logic</h3>
               <p>
               The code script 1 is triggered by an S1 switch in this first iteration. Note the sectors around the bottom? The idea is that as the nail descends, the 'wound' is opened up. This is simulated by the 
               Floor_LowerInstant() calls at certain counter values.
               </p>
               <h3>Code in full</h3>
               <pre>
#library "myscripts.acs"
#include "zcommon.acs"
global int 1:x;

script 100 ENTER{
	x=1;
}

script 1 (void){
	log(s:"nail in...");	
	// tag, speed, height
	Floor_LowerByValue(3, 8, 128);
	Ceiling_LowerByValue(3,8,128);
	int counter = 0;
	while(counter < 200){
		counter = counter+1;
		if(counter == 35){
			Floor_LowerInstant(4,0,16);
		}
		if(counter == 70){
			Floor_LowerInstant(5,0,16);
		}
		if(counter == 105){
			Floor_LowerInstant(6,0,16);
		}
		Delay(1);
	}
}

script 2 (void){
	x++;
}

script 3 (void){
	log(i:x);
}
				</pre>
                <ul>
                    <li><a href="https://github.com/smeghammer/snippets/blob/master/nails1/compiled/nails1.pk3?raw=true">Download example PK3</a></li>
                    <li><a href="https://github.com/smeghammer/snippets/tree/master/nails1">Github</a></li>
                </ul>
            </div>

            <div class="pure-u-1 pure-u-md-1-12 pure-u-lg-1-8"></div>
        </div>
        
        <!-- inject footer -->
        <div id="footer"></div>
        <script src="/js/jquery.js"></script>
        <script src="/js/site.js"></script> 
    </body>
</html>
